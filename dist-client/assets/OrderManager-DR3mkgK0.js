import{c as we,r as n,j as e,S as J,L as W,X as Y,C as P,a as x,p as v}from"./index-CFXgF25F.js";import{u as Se}from"./useProductData-2tL8c2nX.js";import{P as Ce}from"./plus-CrLdviO7.js";import{M as Ae}from"./map-pin-B0QKroLD.js";import{T as Pe}from"./trash-2-BTQl0KlL.js";import{X as ke}from"./x-circle-DoRHLI6b.js";import{A as Le}from"./alert-triangle-DTqsUDXd.js";import{T as Ie}from"./truck-i18wuND8.js";import{C as Ee}from"./clock-rqFjTchC.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=we("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Me=({status:S})=>{switch(S){case"PROCESSING":return e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[e.jsx(Ee,{className:"w-3 h-3"})," Processing"]});case"SHIPPED":return e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[e.jsx(Ie,{className:"w-3 h-3"})," Shipped"]});case"DELIVERED":return e.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[e.jsx(P,{className:"w-3 h-3"})," Delivered"]});case"PENDING_APPROVAL":return e.jsxs("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[e.jsx(Le,{className:"w-3 h-3"})," Pending PO"]});case"CANCELLED":return e.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[e.jsx(ke,{className:"w-3 h-3"})," Cancelled"]});default:return null}},w={firstName:"",lastName:"",company:"",street:"",city:"",state:"",zip:"",phone:"",email:""},Xe=()=>{var V,B,X,G,H,F,_,Q;const[S,d]=n.useState([]),[ee,k]=n.useState(!0),[L,se]=n.useState(""),[te,g]=n.useState(!1),[I,m]=n.useState("checking"),[ae,p]=n.useState(!1),[E,O]=n.useState(!1),[c,y]=n.useState([]),[u,C]=n.useState(""),[M,b]=n.useState([]),[D,re]=n.useState("PO"),[ne,le]=n.useState(""),[ie,de]=n.useState("PENDING_APPROVAL"),[a,o]=n.useState(null),[i,T]=n.useState(w),[ce,oe]=n.useState(w),[xe,me]=n.useState(!0),{data:f}=Se(),R=async()=>{k(!0),m("checking");try{const s=await x.get("/orders");if(s)d(s),g(!1),m("connected");else throw new Error("No data")}catch(s){const t=String((s==null?void 0:s.message)||"");t.includes("Unauthorized")||t.includes("401")||t.includes("auth-error")?m("unauthorized"):m("disconnected"),g(!0),d(v.orders.getAll())}finally{k(!1)}};n.useEffect(()=>{R();const s=()=>m("unauthorized");return window.addEventListener("auth-error",s),()=>window.removeEventListener("auth-error",s)},[]);const ue=async()=>{y([]),le(""),re("PO"),de("PENDING_APPROVAL"),b([]),C(""),T(w),oe(w),me(!0),p(!0)};n.useEffect(()=>{if(u.length<2||!f||!Array.isArray(f)){b([]);return}const s=f.filter(t=>t.name.toLowerCase().includes(u.toLowerCase())||t.sku.toLowerCase().includes(u.toLowerCase())).slice(0,5);b(s)},[u,f]);const he=s=>{y(t=>t.find(l=>l.product.id===s.id)?t.map(l=>l.product.id===s.id?{...l,quantity:l.quantity+1}:l):[...t,{product:s,quantity:1}]),C(""),b([])},ge=s=>{y(t=>t.filter(r=>r.product.id!==s))},pe=(s,t)=>{y(r=>r.map(l=>l.product.id===s?{...l,quantity:Math.max(1,t)}:l))},q=n.useMemo(()=>c.reduce((s,t)=>s+t.product.price*t.quantity,0),[c]),ye=async s=>{s.preventDefault(),O(!0);const t={items:c.map(r=>({...r.product,quantity:r.quantity})),total:q,paymentMethod:D,poNumber:D==="PO"?ne:void 0,status:ie,shippingAddress:i,billingAddress:xe?i:ce};try{await x.post("/orders",t),g(!1)}catch(r){console.warn("Order creation failed via API, saving locally.",r),g(!0),v.orders.add({...t,poNumber:t.poNumber||null,company:null,createdAt:new Date().toISOString()})}finally{O(!1),p(!1),await R()}},be=async s=>{if(a){o(t=>t?{...t,status:s}:null),d(t=>t.map(r=>r.id===a.id?{...r,status:s}:r));try{await x.patch(`/orders/${a.id}`,{status:s})}catch{console.warn("Status update sync failed, saved locally."),v.orders.update(a.id,{status:s})}}},[N,z]=n.useState(""),[j,U]=n.useState("");n.useEffect(()=>{a&&(z(a.trackingNumber||""),U(a.carrier||""))},[a]);const fe=async()=>{if(!a)return;const s={trackingNumber:N,carrier:j};o(t=>t?{...t,trackingNumber:N,carrier:j}:null),d(t=>t.map(r=>r.id===a.id?{...r,trackingNumber:N,carrier:j}:r));try{await x.patch(`/orders/${a.id}`,s)}catch(t){console.warn("Tracking update failed to sync, saved locally.",t),v.orders.update(a.id,s)}},$=S.filter(s=>{var K;const t=L.toLowerCase().trim();if(!t)return!0;const r=s.shippingAddress&&(s.shippingAddress.firstName+" "+s.shippingAddress.lastName).toLowerCase().includes(t),l=s.id.toLowerCase().includes(t),A=s.company&&s.company.name.toLowerCase().includes(t),Ne=(((K=s.shippingAddress)==null?void 0:K.email)||"").toLowerCase().includes(t),je=(s.poNumber||"").toLowerCase().includes(t),ve=Array.isArray(s.items)&&s.items.some(Z=>String(Z.sku||"").toLowerCase().includes(t)||String(Z.name||"").toLowerCase().includes(t));return r||l||A||Ne||je||ve}),h=(s,t)=>{const{name:r,value:l}=s.target;T(A=>({...A,[r]:l}))};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-navy-900 flex items-center gap-2",children:["Order Management",te&&e.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded-full",children:"Offline Mode"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Track shipments and approve Purchase Orders."})]}),e.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-grow md:flex-grow-0",children:[e.jsx(J,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search orders...",value:L,onChange:s=>se(s.target.value),className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-navy-900 outline-none w-full md:w-64 bg-white"})]}),e.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-3 py-2 bg-navy-900 text-white rounded-lg text-sm font-bold hover:bg-navy-800 transition shadow-sm",children:[e.jsx(Ce,{className:"w-4 h-4"})," Create Order"]})]})]}),I!=="connected"&&e.jsx("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-100 rounded text-xs text-orange-700",children:I==="unauthorized"?"Admin login required. Please sign in to access Order Management.":"API unreachable. Ensure the server is running and the API URL is correct under Settings."}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-500 font-medium",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3",children:"Order ID"}),e.jsx("th",{className:"px-6 py-3",children:"Customer"}),e.jsx("th",{className:"px-6 py-3",children:"Date"}),e.jsx("th",{className:"px-6 py-3",children:"Status"}),e.jsx("th",{className:"px-6 py-3",children:"Payment"}),e.jsx("th",{className:"px-6 py-3 text-right",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ee?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center p-8",children:e.jsx(W,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"})})}):$.length>0?$.map(s=>{var t,r,l;return e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsxs("td",{className:"px-6 py-4 font-mono text-xs font-bold text-navy-700",children:[s.id.substring(0,8),"..."]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-navy-900",children:[(t=s.shippingAddress)==null?void 0:t.firstName," ",(r=s.shippingAddress)==null?void 0:r.lastName]}),e.jsx("div",{className:"text-xs text-gray-500",children:(l=s.shippingAddress)==null?void 0:l.email})]})}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(Me,{status:s.status})}),e.jsx("td",{className:"px-6 py-4 text-gray-600 text-xs",children:s.paymentMethod==="PO"?`PO #${s.poNumber}`:s.paymentMethod==="BANK_TRANSFER"?"Bank Transfer":"Credit Card"}),e.jsxs("td",{className:"px-6 py-4 text-right font-bold text-navy-900",children:["$",Number(s.total).toLocaleString("en-US",{minimumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>o(s),className:"text-gray-400 hover:text-navy-900 p-1 rounded hover:bg-gray-200 transition",title:"View Order Details",children:e.jsx(Oe,{className:"w-4 h-4"})})})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center p-8 text-gray-400",children:"No orders found."})})})]})})}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-navy-900/50 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-navy-900",children:"Order Details"}),e.jsx("p",{className:"text-xs text-gray-500 font-mono",children:a.id})]}),e.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{className:"w-5 h-5"})})]}),e.jsxs("main",{className:"p-6 overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsxs("select",{value:a.status,onChange:s=>be(s.target.value),className:"bg-white border border-gray-300 text-gray-700 text-xs font-bold rounded-lg focus:ring-navy-500 focus:border-navy-500 block p-1.5",children:[e.jsx("option",{value:"PENDING_APPROVAL",children:"Pending PO"}),e.jsx("option",{value:"PROCESSING",children:"Processing"}),e.jsx("option",{value:"SHIPPED",children:"Shipped"}),e.jsx("option",{value:"DELIVERED",children:"Delivered"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Airtable"}),a.airtableRecordId?e.jsxs("span",{className:"text-xs px-3 py-1.5 rounded-lg font-bold bg-green-100 text-green-700 flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"})," Synced"]}):e.jsx("button",{onClick:async()=>{if(!a)return;const s=document.getElementById("btn-sync-airtable");s&&(s.disabled=!0,s.innerHTML="Syncing...");try{await x.post(`/orders/${a.id}/sync-airtable`,{}),alert("Synced to Airtable!"),o(t=>t?{...t,airtableRecordId:"temp-id"}:null),d(t=>t.map(r=>r.id===a.id?{...r,airtableRecordId:"temp-id"}:r))}catch(t){alert("Sync failed: "+(t.message||"Unknown error"))}finally{s&&(s.disabled=!1,s.innerHTML="Sync to Airtable")}},id:"btn-sync-airtable",className:"text-xs bg-white border border-gray-300 px-3 py-1.5 rounded-lg font-bold text-navy-900 hover:bg-gray-50 flex items-center gap-1 shadow-sm transition",children:"Sync to Airtable"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Xero"}),a.xeroInvoiceId?e.jsxs("span",{className:"text-xs px-3 py-1.5 rounded-lg font-bold bg-green-100 text-green-700 flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"})," Synced"]}):e.jsx("button",{onClick:async()=>{if(!a)return;const s=document.getElementById("btn-sync-xero");s&&(s.disabled=!0,s.innerHTML="Syncing...");try{await x.post(`/orders/${a.id}/sync-xero`,{}),alert("Synced to Xero!"),o(t=>t?{...t,xeroInvoiceId:"temp-id"}:null),d(t=>t.map(r=>r.id===a.id?{...r,xeroInvoiceId:"temp-id"}:r))}catch(t){alert("Sync failed: "+(t.message||"Unknown error"))}finally{s&&(s.disabled=!1,s.innerHTML="Sync to Xero")}},id:"btn-sync-xero",className:"text-xs bg-white border border-gray-300 px-3 py-1.5 rounded-lg font-bold text-navy-900 hover:bg-gray-50 flex items-center gap-1 shadow-sm transition",children:"Sync to Xero"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Date Placed"}),e.jsx("span",{className:"text-sm font-bold text-navy-900",children:new Date(a.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-3 h-3"})," Shipping to"]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("p",{className:"font-bold text-navy-900",children:[(V=a.shippingAddress)==null?void 0:V.firstName," ",(B=a.shippingAddress)==null?void 0:B.lastName]}),e.jsx("p",{children:(X=a.shippingAddress)==null?void 0:X.street}),e.jsxs("p",{children:[(G=a.shippingAddress)==null?void 0:G.city,", ",(H=a.shippingAddress)==null?void 0:H.state," ",(F=a.shippingAddress)==null?void 0:F.zip]}),e.jsx("p",{className:"mt-2 text-gray-500",children:(_=a.shippingAddress)==null?void 0:_.email})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 mb-6",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Shipment Tracking"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Carrier"}),e.jsxs("select",{value:j,onChange:s=>U(s.target.value),className:"w-full border-gray-300 rounded-lg text-sm bg-white p-2 outline-none focus:ring-2 focus:ring-navy-900",children:[e.jsx("option",{value:"",children:"Select carrier"}),e.jsx("option",{value:"FedEx",children:"FedEx"}),e.jsx("option",{value:"UPS",children:"UPS"}),e.jsx("option",{value:"USPS",children:"USPS"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Tracking Number"}),e.jsx("input",{value:N,onChange:s=>z(s.target.value),placeholder:"e.g. 1234...",className:"w-full border-gray-300 rounded-lg text-sm bg-white p-2 outline-none focus:ring-2 focus:ring-navy-900"})]})]}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx("button",{onClick:fe,className:"px-3 py-2 bg-navy-900 text-white rounded-lg text-sm font-bold hover:bg-navy-800 transition shadow-sm",children:"Save Tracking"})})]})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden mb-6",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Product"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Unit Price"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(Q=a.items)==null?void 0:Q.map((s,t)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-navy-900",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500 font-mono",children:s.sku})]}),e.jsx("td",{className:"px-4 py-3 text-center",children:s.quantity}),e.jsxs("td",{className:"px-4 py-3 text-right",children:["$",Number(s.basePrice||s.price).toLocaleString()]}),e.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:["$",((s.basePrice||s.price)*s.quantity).toLocaleString()]})]},t))})]})})]})]})}),ae&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-navy-900/50 backdrop-blur-sm animate-fadeIn",children:e.jsxs("form",{onSubmit:ye,className:"bg-white rounded-xl w-full max-w-3xl flex flex-col max-h-[90vh] shadow-2xl",children:[e.jsxs("header",{className:"px-6 py-4 border-b flex justify-between items-center bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-bold text-navy-900",children:"Create New Order"}),e.jsx("button",{type:"button",onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{className:"w-5 h-5"})})]}),e.jsxs("main",{className:"p-6 overflow-y-auto space-y-6",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-bold text-navy-900 text-xs uppercase mb-2",children:"Shipping"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{name:"firstName",required:!0,value:i.firstName,onChange:s=>h(s),placeholder:"First Name",className:"w-full border-gray-300 rounded-lg text-sm bg-white p-2 outline-none focus:ring-2 focus:ring-navy-900"}),e.jsx("input",{name:"lastName",required:!0,value:i.lastName,onChange:s=>h(s),placeholder:"Last Name",className:"w-full border-gray-300 rounded-lg text-sm bg-white p-2 outline-none focus:ring-2 focus:ring-navy-900"})]}),e.jsx("input",{name:"email",type:"email",required:!0,value:i.email,onChange:s=>h(s),placeholder:"Customer Email",className:"w-full border-gray-300 rounded-lg text-sm bg-white mt-2 p-2 outline-none focus:ring-2 focus:ring-navy-900"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsx("input",{name:"country",value:i.country||"",onChange:s=>h(s),placeholder:"Country",className:"w-full border-gray-300 rounded-lg text-sm bg-white p-2 outline-none focus:ring-2 focus:ring-navy-900"}),e.jsx("input",{name:"zip",value:i.zip,onChange:s=>h(s),placeholder:"Zip",className:"w-full border-gray-300 rounded-lg text-sm bg-white p-2 outline-none focus:ring-2 focus:ring-navy-900"})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-1 block",children:"Add Products"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:u,onChange:s=>C(s.target.value),placeholder:"Search by SKU or Name...",className:"w-full border-gray-300 rounded-lg text-sm bg-white p-2 pl-8 outline-none focus:ring-2 focus:ring-navy-900"}),e.jsx(J,{className:"absolute left-2.5 top-2.5 w-4 h-4 text-gray-400"}),M.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto",children:M.map(s=>e.jsxs("div",{onClick:()=>he(s),className:"p-3 hover:bg-gray-100 cursor-pointer border-b last:border-0 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-navy-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.sku})]}),e.jsxs("span",{className:"text-sm font-bold text-action-600",children:["$",s.price.toLocaleString()]})]},s.id))})]})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 text-left font-medium",children:"Product"}),e.jsx("th",{className:"p-2 w-24 font-medium text-center",children:"Qty"}),e.jsx("th",{className:"p-2 w-28 text-right font-medium",children:"Price"}),e.jsx("th",{className:"p-2 w-16"})]})}),e.jsx("tbody",{children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-4 text-center text-gray-400 text-xs",children:"No products added yet."})}):c.map(s=>e.jsxs("tr",{className:"border-b last:border-0",children:[e.jsxs("td",{className:"p-2",children:[e.jsx("div",{className:"text-navy-900 font-medium",children:s.product.name}),e.jsx("div",{className:"text-xs text-gray-500 font-mono",children:s.product.sku})]}),e.jsx("td",{className:"p-2 w-24",children:e.jsx("input",{type:"number",min:"1",value:s.quantity,onChange:t=>pe(s.product.id,parseInt(t.target.value)),className:"w-full border-gray-300 rounded text-sm text-center p-1"})}),e.jsxs("td",{className:"p-2 w-28 text-right font-semibold",children:["$",(s.product.price*s.quantity).toLocaleString()]}),e.jsx("td",{className:"p-2 w-16 text-center",children:e.jsx("button",{type:"button",onClick:()=>ge(s.product.id),className:"text-gray-400 hover:text-red-500 p-1",children:e.jsx(Pe,{className:"w-4 h-4"})})})]},s.product.id))}),e.jsx("tfoot",{className:"bg-gray-50 font-bold border-t border-gray-200",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,className:"p-2 text-right",children:"Total:"}),e.jsxs("td",{className:"p-2 text-right",children:["$",q.toLocaleString()]}),e.jsx("td",{})]})})]})})]}),e.jsxs("footer",{className:"px-6 py-4 border-t bg-gray-50 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 rounded-lg transition",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:E||c.length===0,className:"px-4 py-2 bg-navy-900 text-white text-sm font-bold rounded-lg shadow-sm disabled:bg-gray-300 flex items-center gap-2 hover:bg-navy-800 transition",children:[E&&e.jsx(W,{className:"w-4 h-4 animate-spin"}),"Create Order"]})]})]})})]})};export{Xe as default};
