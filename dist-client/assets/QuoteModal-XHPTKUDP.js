import{u as y,r as c,j as e,X as v,L as j,a as w}from"./index-CFXgF25F.js";import{F as N}from"./file-text-Bqo2hmfu.js";import{S}from"./send-C_9ndNK4.js";const r={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},D=()=>{const{isQuoteModalOpen:n,closeQuoteModal:d,quoteModalData:u,showToast:m}=y(),[a,s]=c.useState({parts:"",name:"",email:"",phone:"",timeline:"Urgent (24h)"}),[o,g]=c.useState(!1);c.useEffect(()=>{s(n?t=>({...t,parts:u}):{parts:"",name:"",email:"",phone:"",timeline:"Urgent (24h)"})},[n,u]);const p=async t=>{t.preventDefault(),g(!0);try{const l=await w.post("/quotes/request/bulk",a),f=(l==null?void 0:l.referenceNumber)||"RECEIVED",i=window.gtag;if(i){const x=String((r==null?void 0:r.VITE_GOOGLE_ADS_ID)||""),h=String((r==null?void 0:r.VITE_GOOGLE_ADS_LEAD_LABEL)||"");x&&h&&i("event","conversion",{send_to:`${x}/${h}`});try{i("event","generate_lead",{method:"bulk_modal"})}catch{}try{const b=window.gtag_report_conversion;b&&b()}catch{}}try{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"quote_submit",method:"bulk_modal",email:a.email||""})}catch{}m(`Quote Request ${f} received! An agent will contact you shortly.`,"success"),d()}catch(l){console.error("Bulk Quote submission failed:",l),m("Could not submit quote request. Please try again.","error")}finally{g(!1)}};return n?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-navy-900/60 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden relative animate-scaleUp",children:[e.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition p-1 hover:bg-gray-100 rounded-full",children:e.jsx(v,{className:"w-5 h-5"})}),e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-action-100 p-2 rounded-lg text-action-600",children:e.jsx(N,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-navy-900",children:"Request Bulk Quote"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get volume pricing and availability within 1 hour."})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Part Numbers / Requirements"}),e.jsx("textarea",{required:!0,className:"w-full border border-gray-300 bg-white rounded-lg p-3 text-sm focus:ring-2 focus:ring-navy-900 outline-none min-h-[100px]",placeholder:"List MPNs, quantities, or configuration details...",value:a.parts,onChange:t=>s({...a,parts:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 bg-white rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-navy-900 outline-none",placeholder:"Your Name",value:a.name,onChange:t=>s({...a,name:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Business Email"}),e.jsx("input",{type:"email",required:!0,className:"w-full border border-gray-300 bg-white rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-navy-900 outline-none",placeholder:"name@company.com",value:a.email,onChange:t=>s({...a,email:t.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone (Optional)"}),e.jsx("input",{type:"tel",className:"w-full border border-gray-300 bg-white rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-navy-900 outline-none",placeholder:"(555) 123-4567",value:a.phone,onChange:t=>s({...a,phone:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Timeline"}),e.jsxs("select",{className:"w-full border border-gray-300 bg-white rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-navy-900 outline-none",value:a.timeline,onChange:t=>s({...a,timeline:t.target.value}),children:[e.jsx("option",{children:"Urgent (24h)"}),e.jsx("option",{children:"3-5 Days"}),e.jsx("option",{children:"Future Project (Planning)"})]})]})]}),e.jsxs("button",{type:"submit",disabled:o,className:"w-full mt-4 bg-navy-900 hover:bg-navy-800 text-white font-bold py-3.5 rounded-lg shadow-lg transition transform active:scale-[0.99] flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[o?e.jsx(j,{className:"w-5 h-5 animate-spin"}):e.jsx(S,{className:"w-4 h-4"}),o?"Sending Request...":"Submit Quote Request"]}),e.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Protected by SSL. We respect your inbox privacy."})]})})]})}):null};export{D as default};
