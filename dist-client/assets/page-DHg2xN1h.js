import{i as k,b as L,r as p,j as t,d as x}from"./index-CFXgF25F.js";import u from"./Header-C_SW7nKS.js";import f from"./Footer-B1Tu_7x4.js";import{E as T,a as $}from"./jspdf.plugin.autotable-CW2N7YIv.js";import{S as D}from"./shopping-bag-DvhiHSKw.js";import{T as E}from"./trash-2-BTQl0KlL.js";import{A as z}from"./arrow-left-Ca1M9LpJ.js";import{F as A}from"./file-text-Bqo2hmfu.js";import"./mail-BAG_jpJT.js";import"./phone-BECx4-5W.js";import"./Image-1076sJ0o.js";import"./log-out-DrwdvGzO.js";import"./upload-Bi7gtjrF.js";import"./shopping-cart-DYMnb0eQ.js";import"./user-B-hCEkTO.js";import"./shield-check-Cy8fN0mD.js";import"./award-B6s_1h76.js";import"./lock-Cz0cqC_5.js";const ee=()=>{const{cart:n,removeFromCart:b,updateQuantity:v,cartTotal:o}=k(),{content:l}=L(),{cageCode:j,dunsNumber:w}=l.general;p.useEffect(()=>{window.scrollTo(0,0)},[]),p.useEffect(()=>{if(!(!n||n.length===0))try{const e=n.map(a=>({item_id:a.sku,item_name:a.name,price:a.price,quantity:a.quantity})),s=window.gtag;typeof s=="function"&&s("event","view_cart",{items:e,value:o,currency:"USD"}),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"view_cart",items:e,value:o,currency:"USD"})}catch{}},[n,o]);const N=()=>{const e=new T,s=e.internal.pageSize.width,a="#0F172A",i="#64748B",h="#F8FAFC";e.setFillColor(a),e.rect(0,0,s,40,"F"),e.setFontSize(18),e.setTextColor("#FFFFFF"),e.setFont("helvetica","bold"),e.text(l.settings.logoText||"SERVER TECH CENTRAL",14,20),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Enterprise Hardware Reseller",14,26),e.setFontSize(24),e.setTextColor("#FFFFFF"),e.setFont("helvetica","bold"),e.text("OFFICIAL QUOTE",s-14,25,{align:"right"});const g=`QTE-${Date.now().toString().slice(-6)}`,S=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});e.setFontSize(10),e.setTextColor(a),e.text(`Reference #: ${g}`,s-14,50,{align:"right"}),e.text(`Date: ${S}`,s-14,55,{align:"right"}),e.text(`Valid Until: ${new Date(Date.now()+30*24*60*60*1e3).toLocaleDateString()}`,s-14,60,{align:"right"}),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("From:",14,50),e.setFont("helvetica","normal"),e.setTextColor(i);const y=e.splitTextToSize(l.general.address||"100 Tech Plaza, Austin, TX 78701",80);e.text(y,14,55);let c=55+y.length*5;e.text(`Phone: ${l.general.phone}`,14,c),e.text(`Email: ${l.general.email}`,14,c+5),e.text("Web: servertechcentral.com",14,c+10);const F=n.map((r,m)=>[m+1,`${r.name}
MPN: ${r.sku}`,r.quantity,`$${r.price.toLocaleString("en-US",{minimumFractionDigits:2})}`,`$${(r.price*r.quantity).toLocaleString("en-US",{minimumFractionDigits:2})}`]);$(e,{startY:c+20,head:[["#","Item Description","Qty","Unit Price","Total"]],body:F,styles:{fontSize:9,cellPadding:4,valign:"middle",lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:a,textColor:"#ffffff",fontStyle:"bold",halign:"left"},columnStyles:{0:{cellWidth:10,halign:"center"},1:{cellWidth:"auto"},2:{cellWidth:20,halign:"center",fontStyle:"bold"},3:{cellWidth:35,halign:"right"},4:{cellWidth:35,halign:"right",fontStyle:"bold"}},alternateRowStyles:{fillColor:h},foot:[["","","","Subtotal:",`$${o.toLocaleString("en-US",{minimumFractionDigits:2})}`],["","","","Shipping:","Calculated at Checkout"],["","","","Total:",`$${o.toLocaleString("en-US",{minimumFractionDigits:2})}`]],footStyles:{fillColor:"#ffffff",textColor:a,fontStyle:"bold",halign:"right",fontSize:11},theme:"grid"});const d=e.lastAutoTable.finalY+15;e.setFillColor(h),e.roundedRect(14,d,s-28,20,2,2,"F"),e.setFontSize(9),e.setTextColor(a),e.setFont("helvetica","bold"),e.text("Authorized Reseller & Compliance",18,d+8),e.setFont("helvetica","normal"),e.setFontSize(8),e.setTextColor(i),e.text(`ISO 9001:2015 Quality Management | ISO 27001 Information Security | TAA Compliant | CAGE: ${j} | DUNS: ${w}`,18,d+14);const C=d+30;e.setFontSize(8),e.setTextColor("#94a3b8"),["Terms & Conditions:","1. This quote is valid for 30 days from the date of issuance.","2. Prices are subject to change based on global component availability.","3. Standard 3-Year Warranty included on all enterprise hardware unless otherwise noted.","4. Returns accepted within 30 days (restocking fees may apply for opened items)."].forEach((r,m)=>{e.text(r,14,C+m*4)}),e.save(`STC_Quote_${g}.pdf`)};return n.length===0?t.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[t.jsx(u,{}),t.jsxs("div",{className:"flex-grow container mx-auto px-4 py-20 flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mb-6",children:t.jsx(D,{className:"w-10 h-10 text-gray-400"})}),t.jsx("h1",{className:"text-2xl font-bold text-navy-900 mb-2",children:"Your Cart is Empty"}),t.jsx("p",{className:"text-gray-500 mb-8 max-w-md",children:"Looks like you haven't added any enterprise hardware to your quote yet."}),t.jsx(x,{to:"/category",className:"bg-action-600 hover:bg-action-500 text-white px-6 py-3 rounded font-bold transition",children:"Browse Inventory"})]}),t.jsx(f,{})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[t.jsx(u,{}),t.jsxs("div",{className:"container mx-auto px-4 py-10 flex-grow",children:[t.jsx("h1",{className:"text-3xl font-bold text-navy-900 mb-8",children:"Shopping Cart"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(e=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-16 w-16 flex-shrink-0 border border-gray-200 rounded overflow-hidden bg-white flex items-center justify-center",children:t.jsx("img",{className:"h-full w-full object-contain",src:e.image,alt:e.name})}),t.jsxs("div",{className:"ml-4",children:[t.jsx(x,{to:`/product/${e.sku}`,className:"text-sm font-medium text-navy-900 hover:text-action-600 transition line-clamp-1",children:e.name}),t.jsxs("div",{className:"text-xs text-gray-500 font-mono mt-0.5",children:["MPN: ",e.sku]}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Unit Price: $",e.price.toLocaleString()]})]})]})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("input",{type:"number",min:"1",max:typeof e.stockLevel=="number"&&e.stockLevel>0?e.stockLevel:999,value:e.quantity,onChange:s=>{const a=parseInt(s.target.value)||1,i=typeof e.stockLevel=="number"&&e.stockLevel>0?e.stockLevel:999;v(e.id,Math.min(a,i))},className:"w-16 border border-gray-300 rounded text-center text-sm py-1 bg-white text-navy-900 focus:ring-2 focus:ring-navy-900 outline-none"}),typeof e.stockLevel=="number"&&e.stockLevel>0&&t.jsxs("span",{className:"text-xs text-gray-500",children:["Max: ",e.stockLevel]})]})}),t.jsxs("td",{className:"px-6 py-4 text-right text-sm font-semibold text-navy-900",children:["$",(e.price*e.quantity).toLocaleString()]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>{try{const s=window.gtag,a={items:[{item_id:e.sku,item_name:e.name,price:e.price,quantity:e.quantity}]};typeof s=="function"&&s("event","remove_from_cart",a),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"remove_from_cart",...a})}catch{}b(e.id)},className:"text-gray-400 hover:text-red-600 transition p-2 hover:bg-red-50 rounded-full",title:"Remove Item",children:t.jsx(E,{className:"w-4 h-4"})})})]},e.id))})]})}),t.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsxs(x,{to:"/category",className:"text-navy-700 font-medium hover:text-navy-900 flex items-center gap-2 text-sm",children:[t.jsx(z,{className:"w-4 h-4"})," Continue Shopping"]}),t.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-sm bg-white border border-gray-300 px-5 py-2.5 rounded shadow-sm hover:bg-gray-50 text-navy-900 font-bold transition w-full sm:w-auto justify-center",children:[t.jsx(A,{className:"w-4 h-4 text-red-600"})," Download Official Quote (PDF)"]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-24",children:[t.jsx("h2",{className:"text-lg font-bold text-navy-900 mb-4",children:"Order Summary"}),t.jsxs("div",{className:"space-y-3 text-sm border-b border-gray-200 pb-4 mb-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Subtotal"}),t.jsxs("span",{className:"font-semibold text-navy-900",children:["$",o.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Shipping Estimate"}),t.jsx("span",{className:"text-gray-500 italic",children:"Calculated at checkout"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Tax"}),t.jsx("span",{className:"text-gray-500 italic",children:"--"})]})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold text-navy-900 mb-6",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["$",o.toLocaleString()]})]}),t.jsx(x,{to:"/checkout",className:"block w-full text-center bg-action-600 hover:bg-action-500 text-white font-bold py-3 rounded shadow-sm transition",children:"Proceed to Checkout"}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("span",{className:"text-xs text-gray-500",children:"Secure checkout via SSL"})})]})})]})]}),t.jsx(f,{})]})};export{ee as default};
