import{c as T,b as R,j as e,d as l,l as E,h as B,r,k as g,i as O,a as z,S as P,L as _}from"./index-CFXgF25F.js";import{M as q}from"./mail-BAG_jpJT.js";import{P as H}from"./phone-BECx4-5W.js";import{I as V}from"./Image-1076sJ0o.js";import{L as $,a as X}from"./log-out-DrwdvGzO.js";import{U as D}from"./upload-Bi7gtjrF.js";import{S as G}from"./shopping-cart-DYMnb0eQ.js";import{U as K}from"./user-B-hCEkTO.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=T("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Y=()=>{const{content:o}=R(),{phone:a,email:t}=o.general,c=o.settings.activeTheme;return e.jsx("div",{className:"bg-navy-900 text-white text-xs py-2",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-2 md:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[c==="christmas"&&e.jsx("span",{className:"hidden lg:inline text-yellow-300 font-bold animate-pulse",children:"ðŸŽ„ Holiday Sale: Up to 50% Off Select Servers! ðŸŽ…"}),c==="new_year"&&e.jsx("span",{className:"hidden lg:inline text-yellow-300 font-bold animate-pulse",children:"ðŸŽ‰ Happy New Year! Start 2026 with new infrastructure! ðŸš€"}),e.jsxs(l,{to:"/returns",className:"flex items-center gap-2 hover:text-action-400 transition ml-4",children:[e.jsx(W,{className:"w-3 h-3"}),e.jsx("span",{children:"30-Day Money Back Guarantee"})]}),e.jsx("span",{className:"hidden md:inline text-navy-600",children:"|"}),e.jsx("span",{className:"hidden md:inline text-gray-300",children:"Fast & Secure Shipping Worldwide"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("a",{href:`mailto:${t}`,className:"flex items-center gap-2 hover:text-action-400 transition",children:[e.jsx(q,{className:"w-3 h-3"}),e.jsx("span",{children:t||"sales@servertechcentral.com"})]}),e.jsx("span",{className:"hidden md:inline text-navy-600",children:"|"}),e.jsxs("a",{href:`tel:${a}`,className:"flex items-center gap-2 hover:text-action-400 transition font-bold",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:a||"+1 (800) 555-0199"})]})]})]})})},J=()=>e.jsxs("div",{className:"absolute top-0 left-0 w-full h-12 overflow-hidden pointer-events-none z-50 flex justify-center",children:[e.jsx("ul",{className:"flex justify-between w-full max-w-7xl px-4",style:{paddingLeft:"20px",paddingRight:"20px"},children:Array.from({length:20}).map((o,a)=>e.jsx("li",{className:`
                relative w-3 h-3 rounded-full mt-[-4px]
                animate-pulse
                ${a%4===0?"bg-red-500 shadow-[0_0_10px_#ef4444]":""}
                ${a%4===1?"bg-green-500 shadow-[0_0_10px_#22c55e]":""}
                ${a%4===2?"bg-yellow-400 shadow-[0_0_10px_#facc15]":""}
                ${a%4===3?"bg-blue-500 shadow-[0_0_10px_#3b82f6]":""}
                before:content-[''] before:absolute before:top-[-8px] before:left-1/2 before:w-[2px] before:h-[8px] before:bg-gray-800
             `,style:{animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()}s`}},a))}),e.jsx("div",{className:"absolute top-[-2px] left-0 w-full h-[2px] bg-gray-800"})]}),ie=()=>{var M;const o=E(),a=B(),[t,c]=r.useState(""),[A,h]=r.useState(!1),[f,b]=r.useState([]),[m,v]=r.useState([]),[y,w]=r.useState(!1),[i,N]=r.useState(g.getUser()),[S,d]=r.useState(!1),{cartCount:j}=O(),{content:u}=R(),{logoUrl:C,logoText:k}=u.settings,L=u.settings.activeTheme==="christmas";r.useEffect(()=>{const s=()=>{N(g.getUser()),d(!1)};return window.addEventListener("auth-change",s),N(g.getUser()),()=>window.removeEventListener("auth-change",s)},[o]),r.useEffect(()=>{const s=setTimeout(async()=>{if(t.trim().length>=2){w(!0);const x=t.trim().toLowerCase(),p=u.categories.filter(n=>n.isActive&&(n.name.toLowerCase().includes(x)||n.description.toLowerCase().includes(x)));v(p);try{const n=await z.get(`/products/search?q=${encodeURIComponent(t.trim())}`);b(n||[])}catch(n){console.error("Search API failed:",n),b([])}finally{w(!1)}}else b([]),v([])},300);return()=>clearTimeout(s)},[t]);const U=s=>{if(s.preventDefault(),t.trim()){h(!1);const x=t.trim().toLowerCase(),p=u.categories.find(n=>n.name.toLowerCase()===x||n.id.toLowerCase()===x);a(p?`/category/${p.id}`:`/category?search=${encodeURIComponent(t.trim())}`)}},F=()=>{c(""),h(!1)},I=()=>{g.logout(),a("/")};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsxs("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm relative",children:[L&&e.jsx(J,{}),e.jsxs("div",{className:"container mx-auto px-4 h-20 flex items-center justify-between relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 h-full py-2 relative",children:[L&&e.jsxs("svg",{className:"absolute top-[-5px] left-[-15px] w-12 h-12 rotate-[-15deg] z-20 pointer-events-none drop-shadow-md",viewBox:"0 0 512 512",children:[e.jsx("path",{fill:"#D32F2F",d:"M410.7 114.6c-4.4-1.2-8.5 1.2-9.8 5.6-8.9 30.6-32.9 83.1-98.9 104.9-38.6 12.8-78.2 8.3-108.7 1.8-19.1-4.1-39.2-2.3-56.9 7-23.7 12.4-38.7 26.6-47.5 39.4-12.8 18.6-13.4 39.9-10.9 57.6 2.3 16.3 10.7 32.7 21 44.2 13.9 15.6 33.1 26.3 54 30.1 8 1.5 16.1 2.3 24.3 2.3 32.5 0 71.9-10.9 107.5-35.8 45.9-32.1 79.5-84.4 97.4-151.7 4.1-15.5 16.1-59.5 28.3-105.4 0.1-0.2 0.2-0.5 0.2-0.7 1.2-4.2-1.3-8.6-5.7-9.9z"}),e.jsx("path",{fill:"#F5F5F5",d:"M129.5 394.5c8.3 0 16.5-0.8 24.5-2.3 21.6-3.9 41.5-15 55.9-31.1 10.7-11.9 19-28.9 21.4-45.7 2.6-18.4 2-41-11.4-60.4-9.1-13.3-24.6-28-49.1-40.8-3.6-1.9-7.7-2.9-11.9-2.9-10.7 0-20.9 6.2-25.5 16.1-5 10.7-3.2 23.4 4.5 32.1 4.3 4.8 9.2 8.9 14.5 12.3 14 9 31.7 11 47.9 5.3 4.2-1.5 8.8 0.7 10.3 4.9 1.5 4.2-0.7 8.8-4.9 10.3-22.6 8-48.4 4.8-67.7-7.7-8-5.2-15.2-11.5-21.3-18.8-11.6 24-9.8 54.4 7.6 79.6 15.7 22.8 40.7 34.6 68.1 35.6-21.2 5.3-43.2 8.6-64.8 11.2 5.1 1.7 10.6 2.6 16.1 2.6"}),e.jsx("circle",{fill:"#F5F5F5",cx:"423.8",cy:"103.5",r:"32.5"})]}),e.jsx(l,{to:"/",className:"tracking-tight focus:outline-none focus:ring-2 focus:ring-navy-500 rounded-sm flex items-center h-full",children:C?e.jsx("img",{src:C,alt:k,width:"170",height:"64",className:"max-h-12 md:max-h-16 w-auto object-contain"}):e.jsx("span",{className:"text-navy-900 text-xl md:text-2xl font-bold",children:k})})]}),e.jsxs("div",{className:"hidden md:block flex-1 max-w-2xl mx-8 relative z-50",children:[e.jsxs("form",{onSubmit:U,className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-gray-400"})}),e.jsx("label",{htmlFor:"global-search",className:"sr-only",children:"Search catalog"}),e.jsx("input",{id:"global-search",type:"text",value:t,onChange:s=>c(s.target.value),onFocus:()=>h(!0),onBlur:()=>setTimeout(()=>h(!1),200),autoComplete:"off",className:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-md leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:ring-2 focus:ring-navy-800 focus:border-navy-800 sm:text-sm transition duration-150 ease-in-out",placeholder:"Search by Part #, SKU, Model, or Keyword...","aria-label":"Search products"}),y&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(_,{className:"h-4 w-4 text-navy-600 animate-spin"})})]}),A&&t.length>=2&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden max-h-[80vh] overflow-y-auto",children:[m.length>0&&e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider bg-gray-50",children:"Categories"}),e.jsx("ul",{children:m.slice(0,3).map(s=>e.jsx("li",{children:e.jsxs(l,{to:`/category/${s.id}`,onClick:F,className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded flex items-center justify-center flex-shrink-0",children:e.jsx($,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-navy-900 text-sm",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:s.description})]})]})},s.id))})]}),f.length>0||m.length>0?e.jsxs(e.Fragment,{children:[f.length>0&&e.jsxs("div",{children:[m.length>0&&e.jsx("div",{className:"px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider bg-gray-50 border-b border-gray-100",children:"Products"}),e.jsx("ul",{children:f.slice(0,6).map(s=>e.jsx("li",{children:e.jsxs(l,{to:`/product/${s.sku}`,onClick:F,className:"flex items-center gap-4 p-3 hover:bg-gray-50 transition border-b border-gray-100 last:border-0",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 bg-white border border-gray-200 rounded flex items-center justify-center p-0.5",children:e.jsx(V,{src:s.image,alt:"",className:"h-full w-full object-contain"})}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsx("div",{className:"font-semibold text-navy-900 text-sm truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"font-mono text-gray-500",children:s.sku}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{className:"font-bold text-action-600",children:["$",s.price.toLocaleString()]})]})]})]})},s.id))})]}),e.jsx("div",{className:"p-2 bg-gray-50 text-center border-t border-gray-200 sticky bottom-0",children:e.jsxs("button",{onMouseDown:s=>s.preventDefault(),onClick:s=>U(s),className:"text-xs font-bold text-navy-700 hover:text-action-600 w-full py-1",children:['View all results for "',t,'"']})})]}):e.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:y?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 animate-spin"})," Searching..."]}):e.jsxs("p",{children:['No results found for "',t,'"']})})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs(l,{to:"/upload-bom",className:"hidden lg:flex items-center gap-2 text-sm font-medium text-navy-700 hover:text-navy-900 focus:outline-none focus:ring-2 focus:ring-navy-500 rounded-sm px-2 py-1",children:[e.jsx(D,{className:"w-4 h-4"}),"Upload BOM"]}),e.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 w-80 bg-navy-900 text-white rounded-lg shadow-2xl p-4 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 pointer-events-none",children:[e.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-navy-900 rotate-45"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-action-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(D,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-bold text-sm",children:"What is a BOM?"})]}),e.jsxs("p",{className:"text-xs text-gray-300 leading-relaxed mb-2",children:["A ",e.jsx("strong",{className:"text-white",children:"Bill of Materials (BOM)"})," is a list of parts you need for your project. Upload your spreadsheet with part numbers and quantities, and we'll provide a complete quote."]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-action-400",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-action-400 rounded-full"}),e.jsx("span",{children:"Supports .XLS, .XLSX, .CSV, .PDF"})]})]})]})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300 hidden lg:block","aria-hidden":"true"}),e.jsxs(l,{to:"/cart",className:"flex items-center gap-2 text-navy-900 hover:text-action-600 focus:outline-none focus:ring-2 focus:ring-navy-500 rounded-sm px-2 py-1","aria-label":`View Shopping Cart, ${j} items`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"w-6 h-6"}),j>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-action-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center animate-bounce",children:j})]}),e.jsx("span",{className:"hidden lg:inline text-sm font-semibold",children:"Cart"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>d(!S),className:"flex items-center gap-2 text-navy-700 hover:text-navy-900 focus:outline-none focus:ring-2 focus:ring-navy-500 rounded-full p-1","aria-label":"User Account",children:i.email?e.jsx("div",{className:"w-8 h-8 bg-navy-900 text-white rounded-full flex items-center justify-center font-bold text-xs",children:((M=i.name)==null?void 0:M.charAt(0).toUpperCase())||"U"}):e.jsx(K,{className:"w-6 h-6"})}),S&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 py-1 z-50 animate-fadeIn",children:i.email?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-bold text-navy-900 truncate",children:i.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:i.email})]}),e.jsx(l,{to:i.role==="SUPER_ADMIN"?"/admin":i.role==="SALESPERSON"?"/salesteam":"/account",onClick:()=>d(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-navy-900",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),i.role==="BUYER"?"My Account":"Dashboard"]})}),e.jsxs("button",{onClick:I,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"})," Sign Out"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{to:"/login",onClick:()=>d(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-navy-900",children:"Sign In"}),e.jsx(l,{to:"/register",onClick:()=>d(!1),className:"block px-4 py-2 text-sm font-bold text-action-600 hover:bg-gray-50",children:"Create Account"})]})})]})]})]})]})]})};export{ie as default};
