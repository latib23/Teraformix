const h=(i,a=800,d=.7)=>new Promise((w,s)=>{const c=new FileReader;c.readAsDataURL(i),c.onload=l=>{var g;const e=new Image;e.src=(g=l.target)==null?void 0:g.result,e.onload=()=>{const t=document.createElement("canvas");let n=e.width,o=e.height;n>a&&(o=a*o/n,n=a),t.width=n,t.height=o;const r=t.getContext("2d");if(!r){s(new Error("Could not get canvas context"));return}r.fillStyle="#FFFFFF",r.fillRect(0,0,n,o),r.drawImage(e,0,0,n,o),w(t.toDataURL("image/jpeg",d))},e.onerror=t=>s(t)},c.onerror=l=>s(l)});export{h as c};
